(this["webpackJsonpdataviz-choropleth-map-d3"]=this["webpackJsonpdataviz-choropleth-map-d3"]||[]).push([[0],{92:function(t,e,a){t.exports=a(99)},97:function(t,e,a){},99:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(57),o=a.n(c),i=a(3),s=(a(97),a(14)),u=a.n(s),p=a(58);function d(t){var e=Object(n.useState)([]),a=Object(i.a)(e,2),r=a[0],c=a[1],o=Object(n.useState)(!0),s=Object(i.a)(o,2),d=s[0],l=s[1];function f(){return(f=Object(p.a)(u.a.mark((function e(){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,c(n),l(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),[r,d]}var l=a(1),f=a(59),h=function(t,e,a){return t>a[0]&&t<=a[1]?e[1]:t>a[1]&&t<=a[2]?e[2]:t>a[2]&&t<=a[3]?e[3]:t>a[3]&&t<=a[4]?e[4]:t>a[4]&&t<=a[5]?e[5]:t>a[5]&&t<=a[6]?e[6]:t>a[6]&&t<=a[7]?e[7]:e[0]},m=function(t,e,a,n,r){var c=l.i(a.current),o=80,i=300,s=n-300-i,u=r-o-0;l.c();var p=Object(f.a)(e,e.objects.counties),d=t.reduce((function(t,e){return t[e.fips]=e,t}),{});p.features.forEach((function(t){Object.assign(t.properties,d[t.id])}));var m=function(t){return t.properties.bachelorsOrHigher},g=l.f(p.features,m),b=l.e(p.features,m),v=function(t,e,a){for(var n=[t],r=t,c=0;c<e-1;c++)r+=a,n.push(Math.round(r));return n}(g,8,Math.round((b-g)/8)),j=l.h[8],x=s/2,y=c.append("g").attr("id","map").attr("transform","translate(".concat(i,", ").concat(o,")")),O=y.append("g").attr("text-anchor","middle");O.append("text").attr("id","title").attr("x",x).attr("y",-30).text("United States Educational Attainment"),O.append("text").attr("id","description").attr("x",x).attr("y",-8).text("Percentage of adults age 25 and older with a bachelor's degree or higher (2010-2014)");var E=l.i("body").append("div").attr("id","tooltip").style("opacity",0);y.selectAll("path").data(p.features).enter().append("path").attr("class","county").attr("d",l.d()).attr("data-fips",(function(t){return function(t){return t.properties.fips}(t)})).attr("data-education",(function(t){return m(t)})).attr("fill",(function(t){return h(m(t),j,v)})).on("mouseover",(function(t){E.transition().duration(200).style("opacity",.8),E.html("".concat(function(t){return t.properties.area_name}(t),", ").concat(function(t){return t.properties.state}(t),": ").concat(m(t),"%")).style("left",l.b.pageX-200+"px").style("top",l.b.pageY-80+"px").attr("data-education",m(t))})).on("mouseout",(function(t){E.transition().duration(500).style("opacity",0)}));var w=c.append("g").attr("id","legend").attr("transform","translate(".concat(i+550,", ").concat(o-650,")")),k=l.g().domain([g,b]).range([0,300]),S=l.a(k).tickValues(v).tickFormat((function(t){return Math.round(t)+"%"})).tickSizeOuter(0);w.append("g").attr("id","legend-x-axis").attr("transform","translate(0, ".concat(u+10,")")).call(S),w.selectAll("rect").data(v).enter().append("rect").attr("class","legend-rect").attr("x",(function(t,e){return 37.5*e})).attr("transform","translate(0, ".concat(u-10,")")).attr("width",37.5).attr("height",20).attr("fill",(function(t){return h(t,j,v)}))};function g(){var t=document.body.clientWidth,e=document.body.clientHeight,a=d("https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/for_user_education.json"),c=Object(i.a)(a,1)[0],o=d("https://cdn.freecodecamp.org/testable-projects-fcc/data/choropleth_map/counties.json"),s=Object(i.a)(o,2),u=s[0],p=s[1],l=Object(n.useRef)();return Object(n.useEffect)((function(){0!==c.length&&0!==u&&m(c,u,l,t,e)}),[p]),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"viz-container"},r.a.createElement("svg",{className:"graph",ref:l,viewBox:"0 0 ".concat(t," ").concat(e)})))}var b=document.getElementById("root");o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),b)}},[[92,1,2]]]);
//# sourceMappingURL=main.a34c1e64.chunk.js.map